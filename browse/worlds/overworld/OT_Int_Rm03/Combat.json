{
  "classname": "RegionLayer",
  "properties": {
    "Root": {
      "classname": "WorldGroup",
      "properties": {
        "Objects": [
          {
            "classname": "base/visscriptmodulesystem",
            "properties": {
              "Comment": "Check if puz_beam_hit_door",
              "ModuleSystem": {
                "classname": "ModuleSystem",
                "properties": {
                  "EntityIDGen": 7,
                  "Entities": [
                    {
                      "classname": "SaveDataModule",
                      "properties": {
                        "FlagInfoList": [
                          {
                            "classname": "FlagInfo",
                            "properties": {
                              "FlagLevel": "OT_Ext_Rm01",
                              "FlagName": "puz_beam_hit_door"
                            }
                          }
                        ],
                        "EventLinks": [
                          [
                            0,
                            2,
                            0
                          ]
                        ],
                        "ID": 1,
                        "Comment": "Check if puz_beam_hit_door",
                        "LocationX": 1014,
                        "LocationY": 275
                      }
                    },
                    {
                      "classname": "TriggerEventModule",
                      "properties": {
                        "WorldObjects": [
                          "OT_Int_Rm03_Enc05_TrgReg"
                        ],
                        "OneShot": true,
                        "WorldObject": "-CONVERTED-",
                        "EventLinks": [
                          [
                            0,
                            6,
                            0
                          ]
                        ],
                        "ID": 2,
                        "Comment": "OT_Int_Rm03_Enc05_TrgReg",
                        "LocationX": 1260,
                        "LocationY": 275
                      }
                    },
                    {
                      "classname": "StartModule",
                      "properties": {
                        "EventLinks": [
                          [
                            0,
                            1,
                            0
                          ]
                        ],
                        "ID": 3,
                        "LocationX": 807,
                        "LocationY": 275
                      }
                    },
                    {
                      "classname": "SpawnMonsterEventModule",
                      "properties": {
                        "EncounterName": "OT_Int_Rm03_Enc05",
                        "EventLinks": [
                          [
                            3,
                            7,
                            1
                          ]
                        ],
                        "ID": 5,
                        "Comment": "Spawn Frosaken Angels and Wraith Scout",
                        "LocationX": 1767,
                        "LocationY": 298
                      }
                    },
                    {
                      "classname": "SaveDataModule",
                      "properties": {
                        "FlagInfoList": [
                          {
                            "classname": "FlagInfo",
                            "properties": {
                              "FlagLevel": "OT_Int_Rm03",
                              "FlagName": "OT_Int_Rm03_Enc05"
                            }
                          }
                        ],
                        "EventLinks": [
                          [
                            1,
                            5,
                            0
                          ]
                        ],
                        "ID": 6,
                        "Comment": "Check if OT_Int_Rm03_Enc05 true",
                        "LocationX": 1528,
                        "LocationY": 275
                      }
                    },
                    {
                      "classname": "SaveDataModule",
                      "properties": {
                        "FlagInfoList": [
                          {
                            "classname": "FlagInfo",
                            "properties": {
                              "FlagLevel": "OT_Int_Rm03",
                              "FlagName": "OT_Int_Rm03_Enc05"
                            }
                          }
                        ],
                        "ID": 7,
                        "Comment": "Set OT_Int_Rm03_Enc05",
                        "LocationX": 2066,
                        "LocationY": 344
                      }
                    }
                  ],
                  "ViewXOffset": -1105.4832,
                  "ViewYOffset": 241.75436,
                  "ViewZoom": 0.81999993,
                  "ModuleIDGen": -1042261864
                }
              },
              "Position": [
                5424.3677,
                -3757.6592,
                237.23706
              ],
              "ObjectID": 149,
              "RegionID": 236,
              "LayerID": 5,
              "Name": "OT_Int_Rm03_Enc01_BeamCheck"
            }
          },
          {
            "classname": "base/triggerregion",
            "properties": {
              "Enable": false,
              "FilterList": [
                "Player"
              ],
              "Position": [
                5421.31,
                -3754.64,
                287.24
              ],
              "Scale": [
                354.2,
                100.0,
                261.0
              ],
              "ObjectID": 148,
              "RegionID": 236,
              "LayerID": 5,
              "Name": "OT_Int_Rm03_Enc05_TrgReg"
            }
          },
          {
            "classname": "base/blocker",
            "properties": {
              "BlockType": 2,
              "Position": [
                3310.0,
                -4940.0,
                -17.7
              ],
              "Scale": [
                150.0,
                1200.0,
                1000.0
              ],
              "ObjectID": 143,
              "RegionID": 236,
              "LayerID": 5,
              "Name": "Blocker"
            }
          },
          {
            "classname": "base/visscriptmodulesystem",
            "properties": {
              "Comment": "OT_Int_Rm03_Enc01_Script",
              "ModuleSystem": {
                "classname": "ModuleSystem",
                "properties": {
                  "EntityIDGen": 115,
                  "Entities": [
                    {
                      "classname": "SaveDataModule",
                      "properties": {
                        "FlagInfoList": [
                          {
                            "classname": "FlagInfo",
                            "properties": {
                              "FlagLevel": "ObsidianTower",
                              "FlagName": "ExtRm01_Enc02_AllDead"
                            }
                          }
                        ],
                        "EventLinks": [
                          [
                            1,
                            11,
                            0
                          ]
                        ],
                        "ID": 3,
                        "Comment": "Check AllDead",
                        "LocationX": 260,
                        "LocationY": 325
                      }
                    },
                    {
                      "classname": "PopSpawnPointsModule",
                      "properties": {
                        "EncounterName": "OT_ExtRm01_Enc02",
                        "EventLinks": [
                          [
                            0,
                            12,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            false,
                            0,
                            14
                          ]
                        ],
                        "ID": 11,
                        "LocationX": 477,
                        "LocationY": 325
                      }
                    },
                    {
                      "classname": "SpawnMonsterEventModule",
                      "properties": {
                        "NumberToSpawn": -1,
                        "DelayTime": 0.4,
                        "EventLinks": [
                          [
                            2,
                            23,
                            0
                          ],
                          [
                            0,
                            57,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            true,
                            0,
                            14
                          ],
                          [
                            false,
                            2,
                            58
                          ]
                        ],
                        "ID": 12,
                        "LocationX": 721,
                        "LocationY": 325
                      }
                    },
                    {
                      "classname": "VisScriptVariableWorldObjectList",
                      "properties": {
                        "ID": 14,
                        "LocationX": 477,
                        "LocationY": 459
                      }
                    },
                    {
                      "classname": "base/oneshotmodule",
                      "properties": {
                        "ID": 17,
                        "LocationX": -135,
                        "LocationY": 325
                      }
                    },
                    {
                      "classname": "AccumulatorModule",
                      "properties": {
                        "CountTo": 2,
                        "EventLinks": [
                          [
                            0,
                            28,
                            1
                          ]
                        ],
                        "ID": 23,
                        "LocationX": 1070,
                        "LocationY": 339
                      }
                    },
                    {
                      "classname": "SaveDataModule",
                      "properties": {
                        "FlagInfoList": [
                          {
                            "classname": "FlagInfo",
                            "properties": {
                              "FlagLevel": "ObsidianTower",
                              "FlagName": "ExtRm01_Enc02_AllDead"
                            }
                          }
                        ],
                        "ID": 28,
                        "Comment": "AllDead",
                        "LocationX": 1365,
                        "LocationY": 174
                      }
                    },
                    {
                      "classname": "SaveDataModule",
                      "properties": {
                        "FlagInfoList": [
                          {
                            "classname": "FlagInfo",
                            "properties": {
                              "FlagLevel": "OT_Ext_Rm03",
                              "FlagName": "OT_Ext_Rm03_BeamGenerated"
                            }
                          }
                        ],
                        "EventLinks": [
                          [
                            0,
                            3,
                            0
                          ]
                        ],
                        "ID": 55,
                        "Comment": "OT_Ext_Rm03_BeamGenerated",
                        "LocationX": 42,
                        "LocationY": 274
                      }
                    },
                    {
                      "classname": "ExternalCallModule",
                      "properties": {
                        "EventName": "KickDoorOpened",
                        "ID": 56,
                        "Comment": "(from doors script)",
                        "LocationX": 52,
                        "LocationY": 770
                      }
                    },
                    {
                      "classname": "HealthStatsModule",
                      "properties": {
                        "EventLinks": [
                          [
                            0,
                            61,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            true,
                            0,
                            58
                          ],
                          [
                            false,
                            3,
                            59
                          ]
                        ],
                        "ID": 57,
                        "LocationX": 342,
                        "LocationY": 781
                      }
                    },
                    {
                      "classname": "VisScriptVariableWorldObjectList",
                      "properties": {
                        "ID": 58,
                        "LocationX": 721,
                        "LocationY": 529
                      }
                    },
                    {
                      "classname": "VisScriptVariableFloat",
                      "properties": {
                        "ID": 59,
                        "LocationX": 521,
                        "LocationY": 888
                      }
                    },
                    {
                      "classname": "VisScriptVariableFloat",
                      "properties": {
                        "Value": 0.55,
                        "ID": 60,
                        "LocationX": 529,
                        "LocationY": 1003
                      }
                    },
                    {
                      "classname": "FloatCompareModule",
                      "properties": {
                        "EventLinks": [
                          [
                            0,
                            62,
                            0
                          ],
                          [
                            2,
                            62,
                            0
                          ],
                          [
                            1,
                            63,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            true,
                            0,
                            59
                          ],
                          [
                            true,
                            1,
                            60
                          ]
                        ],
                        "ID": 61,
                        "LocationX": 650,
                        "LocationY": 780
                      }
                    },
                    {
                      "classname": "DelayModule",
                      "properties": {
                        "EventLinks": [
                          [
                            0,
                            57,
                            0
                          ]
                        ],
                        "ID": 62,
                        "LocationX": 521,
                        "LocationY": 630
                      }
                    },
                    {
                      "classname": "PopSpawnPointsModule",
                      "properties": {
                        "EncounterName": "OT_ExtRm01_Enc02w2",
                        "EventLinks": [
                          [
                            0,
                            70,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            false,
                            0,
                            65
                          ]
                        ],
                        "ID": 63,
                        "LocationX": 857,
                        "LocationY": 781
                      }
                    },
                    {
                      "classname": "SpawnMonsterEventModule",
                      "properties": {
                        "NumberToSpawn": -1,
                        "DelayTime": 2.0,
                        "EventLinks": [
                          [
                            2,
                            23,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            false,
                            2,
                            66
                          ],
                          [
                            true,
                            0,
                            76
                          ]
                        ],
                        "ID": 64,
                        "LocationX": 1642,
                        "LocationY": 710
                      }
                    },
                    {
                      "classname": "VisScriptVariableWorldObjectList",
                      "properties": {
                        "ID": 65,
                        "LocationX": 857,
                        "LocationY": 915
                      }
                    },
                    {
                      "classname": "VisScriptVariableWorldObjectList",
                      "properties": {
                        "ID": 66,
                        "LocationX": 1643,
                        "LocationY": 914
                      }
                    },
                    {
                      "classname": "base/splitlistmodule",
                      "properties": {
                        "MaxInGroup1": 4,
                        "SortByClosest": true,
                        "EventLinks": [
                          [
                            0,
                            64,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            true,
                            0,
                            71
                          ],
                          [
                            false,
                            1,
                            76
                          ]
                        ],
                        "ID": 68,
                        "LocationX": 1072,
                        "LocationY": 1170
                      }
                    },
                    {
                      "classname": "base/listsize",
                      "properties": {
                        "EventLinks": [
                          [
                            0,
                            73,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            true,
                            0,
                            71
                          ],
                          [
                            false,
                            1,
                            72
                          ]
                        ],
                        "ID": 69,
                        "LocationX": 1329,
                        "LocationY": 781
                      }
                    },
                    {
                      "classname": "base/inviewlistmodule",
                      "properties": {
                        "EventLinks": [
                          [
                            0,
                            69,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            true,
                            0,
                            65
                          ],
                          [
                            false,
                            1,
                            71
                          ]
                        ],
                        "ID": 70,
                        "LocationX": 1100,
                        "LocationY": 781
                      }
                    },
                    {
                      "classname": "VisScriptVariableWorldObjectList",
                      "properties": {
                        "ID": 71,
                        "LocationX": 1109,
                        "LocationY": 916
                      }
                    },
                    {
                      "classname": "VisScriptVariableInt",
                      "properties": {
                        "ID": 72,
                        "LocationX": 1424,
                        "LocationY": 895
                      }
                    },
                    {
                      "classname": "IntCompareModule",
                      "properties": {
                        "EventLinks": [
                          [
                            0,
                            68,
                            0
                          ],
                          [
                            2,
                            68,
                            0
                          ],
                          [
                            1,
                            75,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            true,
                            1,
                            74
                          ],
                          [
                            true,
                            0,
                            72
                          ]
                        ],
                        "ID": 73,
                        "LocationX": 859,
                        "LocationY": 1040
                      }
                    },
                    {
                      "classname": "VisScriptVariableInt",
                      "properties": {
                        "Value": 4,
                        "ID": 74,
                        "LocationX": 766,
                        "LocationY": 1159
                      }
                    },
                    {
                      "classname": "base/splitlistmodule",
                      "properties": {
                        "MaxInGroup1": 4,
                        "SortByClosest": true,
                        "EventLinks": [
                          [
                            0,
                            64,
                            0
                          ]
                        ],
                        "VariableLinks": [
                          [
                            true,
                            0,
                            65
                          ],
                          [
                            false,
                            1,
                            76
                          ]
                        ],
                        "ID": 75,
                        "LocationX": 1075,
                        "LocationY": 1008
                      }
                    },
                    {
                      "classname": "VisScriptVariableWorldObjectList",
                      "properties": {
                        "ID": 76,
                        "LocationX": 1301,
                        "LocationY": 1139
                      }
                    }
                  ],
                  "ViewXOffset": 377.4743,
                  "ViewYOffset": 7.967041,
                  "ViewZoom": 0.6999995,
                  "ModuleIDGen": -1033358248
                }
              },
              "Position": [
                2743.9783,
                -4617.614,
                63.71289
              ],
              "ObjectID": 137,
              "RegionID": 236,
              "LayerID": 5,
              "Name": "OT_Int_Rm03_Enc01_Script"
            }
          },
          {
            "classname": "base/cinematic",
            "properties": {
              "Position": [
                1971.5007,
                -4503.203,
                -213.06055
              ],
              "Director": {
                "classname": "DirectorCinematicGroup",
                "properties": {
                  "Length": 7.0,
                  "CameraInTransTime": 1.0,
                  "VisualScriptSystem": "OT_IntRm03_Enc01_Script",
                  "AnimationSequence": {
                    "classname": "AnimationSequence",
                    "properties": {
                      "Tracks": [
                        {
                          "classname": "JumpTriggerTrack",
                          "properties": {}
                        },
                        {
                          "classname": "StringPropTrack",
                          "properties": {
                            "Keys": [
                              [
                                0.0,
                                "Camera01"
                              ]
                            ],
                            "PropertyName": "Active Camera Group"
                          }
                        },
                        {
                          "classname": "FloatPropTrack",
                          "properties": {
                            "PropertyName": "Simulation Speed"
                          }
                        },
                        {
                          "classname": "BoolPropTrack",
                          "properties": {
                            "Keys": [
                              [
                                0.0,
                                true
                              ]
                            ],
                            "PropertyName": "Disable Input"
                          }
                        },
                        {
                          "classname": "BoolPropTrack",
                          "properties": {
                            "PropertyName": "Disable Attacks"
                          }
                        }
                      ]
                    }
                  }
                }
              },
              "CameraGroups": [
                {
                  "classname": "CameraCinematicGroup",
                  "properties": {
                    "AnimationSequence": {
                      "classname": "AnimationSequence",
                      "properties": {
                        "Tracks": [
                          {
                            "classname": "FloatPropTrack",
                            "properties": {
                              "Keys": [
                                [
                                  1.0,
                                  45.0
                                ],
                                [
                                  7.0,
                                  20.0
                                ]
                              ],
                              "PropertyName": "FOV"
                            }
                          },
                          {
                            "classname": "Vector3PropTrack",
                            "properties": {
                              "Keys": [
                                [
                                  0.0,
                                  [
                                    1785.3787,
                                    -4615.7812,
                                    -171.07031
                                  ]
                                ],
                                [
                                  2.92,
                                  [
                                    2322.0938,
                                    -4613.002,
                                    -102.67312
                                  ]
                                ]
                              ],
                              "PropertyName": "Position"
                            }
                          },
                          {
                            "classname": "Vector3PropTrack",
                            "properties": {
                              "Keys": [
                                [
                                  0.0,
                                  [
                                    92.933014,
                                    0.000006830189,
                                    -89.78999
                                  ]
                                ],
                                [
                                  2.92,
                                  [
                                    96.933014,
                                    -0.0,
                                    -90.58998
                                  ]
                                ]
                              ],
                              "PropertyName": "Rotation"
                            }
                          },
                          {
                            "classname": "StringPropTrack",
                            "properties": {
                              "PropertyName": "Look Target"
                            }
                          }
                        ]
                      }
                    },
                    "ObjectName": "Camera01"
                  }
                }
              ],
              "ObjectID": 52,
              "RegionID": 236,
              "LayerID": 5,
              "Name": "OT_IntRm03_Enc01_Cine01"
            }
          },
          {
            "classname": "base/monsterzonebarrier",
            "properties": {
              "FilterList": [
                "base/combatmonster"
              ],
              "Position": [
                2068.27,
                -4616.7812,
                -162.55078
              ],
              "Rotation": [
                0.0,
                -0.0,
                0.0
              ],
              "Scale": [
                100.0,
                232.0,
                266.0
              ],
              "ObjectID": 50,
              "RegionID": 236,
              "LayerID": 5,
              "Name": "MonsterZoneBarrier"
            }
          },
          {
            "classname": "base/waypoint",
            "properties": {
              "Position": [
                4628.9277,
                -3796.9453,
                221.1914
              ],
              "Rotation": [
                0.0,
                -0.0,
                0.0
              ],
              "ObjectID": 20,
              "RegionID": 236,
              "LayerID": 5,
              "Name": "OT_IntRm03_Enc02_LOSTrig"
            }
          }
        ]
      }
    },
    "NextObjectID": 158
  }
}