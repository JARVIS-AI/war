{
  "Parent": "base/simpleinteractive",
  "Name": "dgn_door/dgn_keylock",
  "Properties": {
    "KeyType": {
      "Flags": 4,
      "Type": 5
    },
    "LinkedBarrier": {
      "Flags": 4,
      "Type": 5
    },
    "LinkedDoor": {
      "Flags": 4,
      "Type": 5
    },
    "CloseDistance": {
      "Flags": 2,
      "Type": 1
    },
    "LookAtID": {
      "Flags": 2,
      "Type": 1
    }
  },
  "StaticProperties": {
    "Description": {
      "Value": {
        "classname": "base/simpleinteractivedesc",
        "properties": {
          "MoveStates": {
            "classname": "CharacterMoveStateList",
            "properties": {
              "MoveStates": [
                {
                  "classname": "CharacterGenericStateDesc",
                  "properties": {
                    "Name": "Eye Closing",
                    "ID": 5,
                    "AnimController": {
                      "classname": "SimpleAnimController",
                      "properties": {
                        "Animation": 6
                      }
                    },
                    "GravityScale": 0.0,
                    "OnActionComplete": 3
                  }
                },
                {
                  "classname": "CharacterGenericStateDesc",
                  "properties": {
                    "Name": "Eye Opening",
                    "ID": 4,
                    "AnimController": {
                      "classname": "SimpleAnimController",
                      "properties": {
                        "Animation": 5
                      }
                    },
                    "GravityScale": 0.0,
                    "OnActionComplete": 0
                  }
                },
                {
                  "classname": "CharacterGenericStateDesc",
                  "properties": {
                    "Name": "Idle Door Unlocked",
                    "ID": 2,
                    "AnimController": {
                      "classname": "SimpleAnimController",
                      "properties": {
                        "Animation": 4
                      }
                    },
                    "GravityScale": 0.0
                  }
                },
                {
                  "classname": "CharacterGenericStateDesc",
                  "properties": {
                    "Name": "Idle Eye Closed",
                    "ID": 3,
                    "AnimController": {
                      "classname": "SimpleAnimController",
                      "properties": {
                        "Animation": 3
                      }
                    },
                    "GravityScale": 0.0
                  }
                },
                {
                  "classname": "CharacterGenericStateDesc",
                  "properties": {
                    "Name": "Idle Eye Open",
                    "AnimController": {
                      "classname": "SimpleAnimController",
                      "properties": {
                        "Animation": 0
                      }
                    },
                    "GravityScale": 0.0
                  }
                },
                {
                  "classname": "CharacterDoInteractiveDesc",
                  "properties": {
                    "TargetType": "war/war",
                    "Initiator": 1,
                    "MaxErrorDistance": 100.0,
                    "Arc": 180.0,
                    "DoCollision": false,
                    "ConvergeTime": 0.2,
                    "UseWeapon": 0,
                    "AnimationID": 2,
                    "TargetAnimController": {
                      "classname": "SimpleAnimController",
                      "properties": {
                        "Animation": 7,
                        "Ease": 0.0
                      }
                    },
                    "OnComplete": 2,
                    "OnCompleteOther": 0,
                    "AnimationSource": 0,
                    "UseAnchorNode": true,
                    "Name": "Interactive",
                    "ID": 1,
                    "AnimController": {
                      "classname": "SimpleAnimController",
                      "properties": {
                        "Animation": 2,
                        "Ease": 0.0
                      }
                    },
                    "GravityScale": 0.0,
                    "UseMotionNode": false
                  }
                }
              ]
            }
          },
          "Visual": "KeyDoor_Lock",
          "Dynamic": false,
          "Animations": {
            "classname": "AnimationList",
            "properties": {
              "Animations": [
                {
                  "classname": "AnimationDesc",
                  "properties": {
                    "ID": 6,
                    "Name": "KeyDoor_Lock_Close",
                    "AnimationName": "KeyDoor_Lock_Close",
                    "Triggers": [
                      {
                        "classname": "SoundTrigger",
                        "properties": {}
                      }
                    ]
                  }
                },
                {
                  "classname": "AnimationDesc",
                  "properties": {
                    "ID": 4,
                    "Name": "KeyDoor_Lock_Death",
                    "AnimationName": "KeyDoor_Lock_Death",
                    "Length": 30,
                    "Triggers": [
                      {
                        "classname": "FadeTrigger",
                        "properties": {
                          "Duration": 60
                        }
                      },
                      {
                        "classname": "MaterialTrigger",
                        "properties": {
                          "Material": "Door_Lock",
                          "OverrideMaterial": "Door_Lock_Dissolve"
                        }
                      },
                      {
                        "classname": "MaterialTrigger",
                        "properties": {
                          "Material": "EnergyField_Red",
                          "OverrideMaterial": "Door_Lock_Dissolve"
                        }
                      },
                      {
                        "classname": "SoundTrigger",
                        "properties": {
                          "SoundID": 50070,
                          "TriggerFrame": 1
                        }
                      }
                    ]
                  }
                },
                {
                  "classname": "AnimationDesc",
                  "properties": {
                    "Name": "KeyDoor_Lock_Idle",
                    "AnimationName": "KeyDoor_Lock_Idle",
                    "Triggers": [
                      {
                        "classname": "SoundTrigger",
                        "properties": {
                          "SoundID": 50130,
                          "TriggerFrame": 1
                        }
                      },
                      {
                        "classname": "SoundTrigger",
                        "properties": {
                          "SoundID": 50131,
                          "TriggerFrame": 119
                        }
                      },
                      {
                        "classname": "SoundTrigger",
                        "properties": {
                          "SoundID": 50129,
                          "TriggerFrame": 127
                        }
                      },
                      {
                        "classname": "SoundTrigger",
                        "properties": {
                          "SoundID": 50130,
                          "TriggerFrame": 110
                        }
                      }
                    ]
                  }
                },
                {
                  "classname": "AnimationDesc",
                  "properties": {
                    "ID": 3,
                    "Name": "KeyDoor_Lock_Idle_Closed",
                    "AnimationName": "KeyDoor_Lock_Idle_Closed",
                    "Triggers": [
                      {
                        "classname": "SoundTrigger",
                        "properties": {
                          "SoundID": 50132
                        }
                      },
                      {
                        "classname": "SoundTrigger",
                        "properties": {
                          "SoundID": 50131
                        }
                      }
                    ]
                  }
                },
                {
                  "classname": "AnimationDesc",
                  "properties": {
                    "ID": 5,
                    "Name": "KeyDoor_Lock_Open",
                    "AnimationName": "KeyDoor_Lock_Open"
                  }
                },
                {
                  "classname": "AnimationDesc",
                  "properties": {
                    "ID": 2,
                    "Name": "War_SpecialGrab_KeyDoor",
                    "AnimationName": "War_SpecialGrab_KeyDoor",
                    "Triggers": [
                      {
                        "classname": "SoundTrigger",
                        "properties": {
                          "SoundID": 50099,
                          "TriggerFrame": 15
                        }
                      },
                      {
                        "classname": "SoundTrigger",
                        "properties": {
                          "SoundID": 50128,
                          "TriggerFrame": 15
                        }
                      },
                      {
                        "classname": "EffectTrigger",
                        "properties": {
                          "EffectName": "KeyDoor_Lock_Open"
                        }
                      }
                    ]
                  }
                },
                {
                  "classname": "AnimationDesc",
                  "properties": {
                    "ID": 7,
                    "Name": "War_SpecialGrab_KeyDoor_War",
                    "AnimationName": "War_SpecialGrab_KeyDoor",
                    "Triggers": [
                      {
                        "classname": "EffectTrigger",
                        "properties": {
                          "EffectName": "War_KeyDoor_Lock_Open"
                        }
                      }
                    ]
                  }
                }
              ]
            }
          },
          "Sounds": {
            "classname": "SoundList",
            "properties": {
              "Sounds": [
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50070,
                    "Name": "DissolveSound",
                    "Volume": 0.5498047,
                    "RandomPitch": 1.0,
                    "Min": 1.0,
                    "Max": 2000.0,
                    "Priority": 50,
                    "Sounds": "death_burn_3,death_burn_1,death_burn_2",
                    "Group": "War"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50136,
                    "Name": "KeyDoor_Blood",
                    "Volume": 0.30004883,
                    "Pitch": -2.0,
                    "Max": 2000.0,
                    "Priority": 10,
                    "Sounds": "Eye_Death_Blood",
                    "Group": "doodads"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50100,
                    "Name": "KeyDoor_Desolve",
                    "Volume": 0.7001953,
                    "Priority": 0,
                    "Group": "War"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50130,
                    "Name": "KeyDoor_Growl",
                    "Volume": 0.7998047,
                    "Sounds": "KeyDoor_Lock_Growl_1,KeyDoor_Lock_Growl_6,KeyDoor_Lock_Growl_2,KeyDoor_Lock_Growl_3,KeyDoor_Lock_Growl_4,KeyDoor_Lock_Growl_5",
                    "Group": "doodads"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50132,
                    "Name": "KeyDoor_Laugh",
                    "Volume": 0.7998047,
                    "Sounds": "KeyDoor_Lock_Laugh_1,KeyDoor_Lock_Laugh_2,KeyDoor_Lock_Laugh_3",
                    "Group": "doodads"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50128,
                    "Name": "Keydoor_Lock_Death",
                    "Volume": 0.75,
                    "Max": 2000.0,
                    "Priority": 1,
                    "Sounds": "KeyDoor_Lock_Death",
                    "Group": "doodads"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50099,
                    "Name": "KeyDoor_Open",
                    "Volume": 0.85009766,
                    "Reverb": false,
                    "FollowActor": true,
                    "Max": 2000.0,
                    "Priority": 0,
                    "Sounds": "Eye_Door_Open",
                    "Group": "doodads"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50131,
                    "Name": "KeyDoor_SquishyEye",
                    "Priority": 1,
                    "Sounds": "KeyDoor_Lock_SquishyEye_4,KeyDoor_Lock_SquishyEye_1,KeyDoor_Lock_SquishyEye_2,KeyDoor_Lock_SquishyEye_3",
                    "Group": "doodads"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50129,
                    "Name": "KeyDoor_Wink",
                    "Volume": 0.099975586,
                    "Priority": 1,
                    "Sounds": "KeyDoor_Lock_Wink",
                    "Group": "doodads"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50133,
                    "Name": "SoulDoor_Loop",
                    "Volume": 0.30004883,
                    "Loop": true,
                    "FadeInTime": 2.0,
                    "FadeOutTime": 2.0,
                    "Offset": true,
                    "FollowActor": true,
                    "Min": 1.0,
                    "Max": 3000.0,
                    "Sounds": "Soul_Door_Loop",
                    "Group": "doodads"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50135,
                    "Name": "SoulDoor_Off",
                    "RandomPitch": 3.0,
                    "Min": 2000.0,
                    "Max": 5000.0,
                    "Sounds": "Soul_Door_Off",
                    "Group": "SoulDoor"
                  }
                },
                {
                  "classname": "SoundDesc",
                  "properties": {
                    "ID": 50134,
                    "Name": "SoulDoor_On",
                    "Volume": 0.89990234,
                    "RandomPitch": 3.0,
                    "Min": 2000.0,
                    "Max": 5000.0,
                    "Sounds": "Soul_Door_On",
                    "Group": "SoulDoor"
                  }
                }
              ]
            }
          }
        }
      }
    }
  },
  "Methods": [
    "onInit",
    "onPersistOpen",
    "onRemove",
    "startLookat",
    "endLookat",
    "onTrigger",
    "onQueryInteractive",
    "onInteractive",
    "onEditorProcessObjects"
  ],
  "PackageName": "dgn_door",
  "DefaultValues": {
    "KeyType": "items/item_dungeonkey",
    "AutoPersist": true,
    "LinkedDoor": "",
    "CloseDistance": 200,
    "RemoveOnPersistLoad": true,
    "LookAtID": -1,
    "LinkedBarrier": ""
  },
  "States": {
    "Interactive": {
      "methods": [
        "onActionComplete",
        "onRemoveTimer"
      ]
    },
    "EyeClosed": {
      "methods": [
        "onDistancePingClosed",
        "onEnter"
      ]
    },
    "EyeOpen": {
      "methods": [
        "onDistancePingOpen",
        "onEnter"
      ]
    }
  }
}